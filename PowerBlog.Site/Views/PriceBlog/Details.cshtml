@using PowerBlog.Site.Utilities
@model PowerBlog.Site.Models.ViewModels.BlogViewModel
@using PowerBlog.Site.Models
@using Microsoft.AspNetCore.Http
@using Microsoft.EntityFrameworkCore
@inject PowerBlog.Site.Data.ApplicationDbContext dbContext
@{
    var session = Context.Session;
    var userId = (session?.GetString("UserId") != null) ? long.Parse(session.GetString("UserId")) : 0;
}
@section Styles{
    <link rel="stylesheet" href="~/AdminTemplate/assets/fonts/bootstrap/bootstrap-icons.min.css" />
}
<main class="container child:mt-8">
    <section>
        <ul class="flex items-center gap-x-2 text-gray-400 text-sm lg:text-base">
            <li class="flex items-center gap-x-2">
                <a asp-action="Index" asp-controller="Home" asp-area="">صفحه اصلی</a>
                <svg class="w-4 h-4"><use href="#chevron-left"></use></svg>
            </li>
            <li class="flex items-center gap-x-2">
                <a asp-action="Index" asp-controller="PriceBlog" asp-area="">فروشگاه</a>
                <svg class="w-4 h-4"><use href="#chevron-left"></use></svg>
            </li>
            <li class="flex items-center gap-x-2">
                <a href="#">جزییات محصول</a>
            </li>
        </ul>
    </section>
    @if (TempData["ErrorMessage"] != null)
    {
        <h2 class="font-MorabbaMedium text-lg lg:text-2xl">
            @TempData["ErrorMessage"]
        </h2>
        TempData.Remove("ErrorMessage");
    }
    <section class="flex flex-col lg:flex-row items-start gap-4 child:rounded-lg child:bg-white child:dark:bg-zinc-700 child:shadow child:p-4">
        <div class="w-full lg:w-3/4 flex flex-col gap-y-8">
            <div class="flex flex-col lg:flex-row gap-5">
                <div class="flex lg:w-96 flex-col gap-y-4">
                    <div class="flex items-center gap-x-3 mr-2">
                        <div class="tooltip">
                            <button class="rounded-full p-1.5 border-2 border-gray-200 dark:border-white/20">
                                <svg class="w-5 h-5"><use href="#share"></use></svg>
                            </button>
                            <div class="tooltiptext duration-300 transition-all text-xs bg-zinc-700 dark:bg-zinc-500 text-white dark:to-zinc-700 after:border-t-zinc-700 after:dark:border-t-zinc-500">
                                اشتراک گذاری
                            </div>
                        </div>
                        @*<div class="tooltip">
                                <button class="rounded-full p-1.5 border-2 border-gray-200 dark:border-white/20">
                                    <svg class="w-5 h-5"><use href="#heart"></use></svg>
                                </button>
                                <div class="tooltiptext duration-300 transition-all text-xs bg-zinc-700 dark:bg-zinc-500 text-white dark:to-zinc-700 after:border-t-zinc-700 after:dark:border-t-zinc-500">
                                    افزودن به علاقمندی
                                </div>
                            </div>*@
                        @if ((bool)TempData["IsUserAddToFavoritePrice"] == true)
                        {
                            <a asp-action="RemoveFromFavorite" asp-controller="Blog" asp-area="" asp-route-favoriteId="@TempData["FavoriteId"]" class="flex items-center gap-x-1 text-gray-400">
                                <i class="bi bi-heart-fill"></i>
                                <p>حذف از علاقه مندی ها</p>
                            </a>
                            TempData.Remove("IsUserAddToFavoritePrice");
                        }
                        else
                        {
                            <a asp-action="AddToFavorite" asp-controller="Blog" asp-area="" asp-route-blogId="@Model.Blog.Id" class="flex items-center gap-x-1 text-gray-400">
                                <i class="bi bi-heart"></i>
                                <p>افزودن به علاقه مندی ها</p>
                            </a>
                            TempData.Remove("IsUserAddToFavoritePrice");
                        }
                        @*<div class="tooltip">
                                <button class="rounded-full p-1.5 border-2 border-gray-200 dark:border-white/20">
                                    <svg class="w-5 h-5"><use href="#arrows-up-down"></use></svg>
                                </button>
                                <div class="tooltiptext duration-300 transition-all text-xs bg-zinc-700 dark:bg-zinc-500 text-white dark:to-zinc-700 after:border-t-zinc-700 after:dark:border-t-zinc-500">
                                    مقایسه
                                </div>
                            </div>*@
                    </div>
                    @*<div class="swiper mt-2 w-full porduct-details-slider rounded-lg swiper-initialized swiper-horizontal swiper-rtl swiper-backface-hidden">
                                    <div class="swiper-wrapper"
                             id="swiper-wrapper-ca10cd76787c387103"
                             aria-live="polite">
                            <div class="swiper-slide swiper-slide-active"
                                 role="group"
                                 aria-label="1 / 4"
                                 style="width: 366px; margin-left: 20px">
                                <img src="Images/BlogImages/@Model.Blog?.Photo"
                                     class="rounded-lg shadow w-full object-cover lg:w-96 lg:h-fit"
                                     alt="@Model.Blog.Title" />
                            </div>
                            <div class="swiper-slide swiper-slide-next"
                                 role="group"
                                 aria-label="2 / 4"
                                 style="width: 366px; margin-left: 20px">
                                <img src="Images/BlogImages/@Model.Blog?.Photo"
                                     class="rounded-lg shadow w-full object-cover lg:w-96 lg:h-fit"
                                     alt="" />
                            </div>
                            <div class="swiper-slide"
                                 role="group"
                                 aria-label="3 / 4"
                                 style="width: 366px; margin-left: 20px">
                                <img src="Images/BlogImages/@Model.Blog?.Photo"
                                     class="rounded-lg shadow w-full object-cover lg:w-96 lg:h-fit"
                                     alt="" />
                            </div>
                            <div class="swiper-slide"
                                 role="group"
                                 aria-label="4 / 4"
                                 style="width: 366px; margin-left: 20px">
                                <img src="Images/BlogImages/@Model.Blog?.Photo"
                                     class="rounded-lg shadow w-full object-cover lg:w-96 lg:h-fit"
                                     alt="" />
                            </div>
                        </div>
                                    <div class="swiper-pagination swiper-pagination-bullets swiper-pagination-horizontal">
                                        <span class="swiper-pagination-bullet swiper-pagination-bullet-active"
                                              aria-current="true"></span><span class="swiper-pagination-bullet"></span><span class="swiper-pagination-bullet"></span><span class="swiper-pagination-bullet"></span>
                                    </div>
                                    <span class="swiper-notification"
                                          aria-live="assertive"
                                          aria-atomic="true"></span>
                                </div>*@
                    <img src="~/Images/BlogImages/@Model.Blog.Photo" alt="e" class="group-hover:scale-105 duration-300 w-32 h-32 lg:w-48 lg:h-48 mx-auto mb-3">
                </div>
                <div class="flex flex-col gap-y-4 w-full">
                    <div class="flex items-start justify-between border-b border-b-gray-200 py-2">
                        <div class="flex flex-col gap-y-1">
                            @*<p class="text-sm text-gray-400">ESPRESSO BEANS GIORNO</p>*@
                            <h3 class="text-2xl font-MorabbaMedium">@Model.Blog.Title</h3>
                        </div>
                        <div class="flex gap-x-1">
                            <p class="font-DanaMedium mt-0.5">@Model.Blog.CreateDate.Value.ToShamsi()</p>
                            <svg class="w-5 h-5 text-yellow-400">
                                <use href="#calender"></use>
                            </svg>
                        </div>
                    </div>
                    <div class="flex gap-x-1 text-gray-400">
                        <svg class="w-5 h-5"><use href="#list-bullet"></use></svg>
                        <p>دسته‌بندی : @Model.Blog.Category.Name</p>
                    </div>
                    <p class="mt-2 font-DanaMedium">ویژگی های محصول :</p>
                    <div class="grid grid-cols-12 gap-4 child:col-span-12 xl:child:col-span-6 child:dark:bg-zinc-800 child:bg-gray-100 child:h-12 child:rounded-lg child:text-sm child:flex child:items-center child:justify-center">
                        <div>
                            <p class="text-zinc-600 dark:text-gray-400">تعداد کلمات: @Model.Blog.TextBody.Count().ToString("N0")</p>
                        </div>
                        @*<div>
                                <p class="text-zinc-600 dark:text-gray-400">
                                    میزان کافئین : متوسط
                                </p>
                            </div>
                            <div>
                                <p class="text-zinc-600 dark:text-gray-400">
                                    خاستگاه : آمریکای مرکزی و آسیای
                                </p>
                            </div>
                            <div>
                                <p class="text-zinc-600 dark:text-gray-400">
                                    مواد تشکیل‌دهنده : دانه اسپرسو
                                </p>
                            </div>*@
                    </div>
                </div>
            </div>
            <div class="lg:mr-2 grid grid-cols-12 child:col-span-6 xl:child:col-span-3 gap-x-1 gap-y-2 lg:gap-4 child:border child:text-gray-400 child:dark:border-white/20 child:border-gray-200 child:rounded-lg child:h-12 child:p-2 child:flex child:items-center child:gap-x-1 lg:child:gap-x-2 child:text-sm lg:text-base">
                <span>
                    <svg class="w-4 h-4 lg:w-6 lg:h-6">
                        <use href="#arrow-path-rounded-square"></use>
                    </svg>
                    <p>ضمانت بازگشت کالا</p>
                </span><span>
                    <svg class="w-4 h-4 lg:w-6 lg:h-6">
                        <use href="#check-badge"></use>
                    </svg>
                    <p>تضمین اصالت کالا</p>
                </span><span>
                    <svg class="w-4 h-4 lg:w-6 lg:h-6">
                        <use href="#calender-day"></use>
                    </svg>
                    <p>پشتیبانی کل هفته</p>
                </span><span>
                    <svg class="w-4 h-4 lg:w-6 lg:h-6"><use href="#truke"></use></svg>
                    <p>ارسال به سراسر ایران</p>
                </span>
            </div>
            <div class="lg:mr-2">
                <h2 class="font-MorabbaMedium text-2xl pb-1 mb-2">معرفی محصول</h2>
                <p class="leading-10 text-gray-600 dark:text-gray-300">@Model.Blog.ShortDescription</p>
            </div>
        </div>
        <div class="w-full lg:w-1/4 lg:sticky top-5 flex flex-col gap-y-6">
            @if (TempData["ErrorMessageAddToOrder"] != null)
            {
                <p class="text-2xl font-DanaDemiBold">@TempData["ErrorMessageAddToOrder"]</p>
                TempData.Remove("ErrorMessageAddToOrder");
            }
            <div class="flex items-center gap-x-1">
                <p class="text-2xl font-DanaDemiBold">@Model.Blog.Price?.ToString("N0")</p>
                <p class="">تومان</p>
            </div>
            <button class="w-full flex items-center justify-between gap-x-1 rounded-lg border border-gray-200 dark:border-white/20 py-2 px-3">
                <svg class="w-6 h-6 increment text-green-600">
                    <use href="#plus"></use>
                </svg>
                <input type="number"
                       name="customInput"
                       id="customInput"
                       min="1"
                       max="1"
                       value="1"
                       class="custom-input mr-4 text-lg bg-transparent" />
                <svg class="w-6 h-6 decrement text-red-500">
                    <use href="#minus"></use>
                </svg>
            </button>
            @*<button class="w-full flex items-center gap-x-1 justify-between dark:bg-zinc-800 dark:text-gray-400 bg-gray-100 transition-all rounded-lg py-2 px-2 xl:px-3 font-DanaMedium text-sm xl:text-base">
                    <p>مجموع خرید :</p>
                    <p>163,000 تومان</p>
                </button>*@
            @if ((bool?)TempData["IsPaid"] == true)
            {
                <a asp-action="Details" asp-controller="Blog" asp-area="" asp-route-id="@Model.Blog.Id" class="w-full flex items-center gap-x-1 justify-center bg-sky-500 text-white hover:bg-sky-600 transition-all rounded-lg shadow py-2">
                    رفتن به صفحه مقاله
                </a>
                TempData.Remove("IsPaid");
            }
            else
            {
                @if ((bool)TempData["IsUserAddToOrderPrice"] == false)
                {
                    <form asp-action="PostAddNewOrder" asp-controller="Order" asp-area="" asp-route-blogId="@Model.Blog.Id" method="post">
                        <input type="hidden" asp-for="@Model.Order.BlogId" value="@Model.Blog.Id" />
                        <button class="w-full flex items-center gap-x-1 justify-center bg-green-500 text-white hover:bg-green-600 transition-all rounded-lg shadow py-2">
                            افزودن به سبد خرید
                            <svg class="w-5 h-5"><use href="#shopping-bag"></use></svg>
                        </button>
                    </form>
                    TempData.Remove("IsUserAddToOrderPrice");
                }
                else
                {
                    <form asp-action="PostDeleteOrder" asp-controller="Order" asp-area="" asp-route-orderId="@TempData["OrderId"]" method="post">
                        <button class="w-full flex items-center gap-x-1 justify-center bg-red-500 text-white hover:bg-red-600 transition-all rounded-lg shadow py-2">
                            حذف از سبد خرید
                            <svg class="w-5 h-5"><use href="#shopping-bag"></use></svg>
                        </button>
                    </form>
                    TempData.Remove("IsUserAddToOrderPrice");
                    TempData.Remove("OrderId");
                }
                TempData.Remove("IsPaid");
            }
            <div class="text-sm text-gray-400 flex xl:items-center gap-x-1">
                <svg class="w-5 h-5"><use href="#info"></use></svg>
                @*<p>ارسال رایگان برای خریدهای بالای 400 هزار تومان</p>*@
            </div>
        </div>
    </section>
    <section class="w-full rounded-lg bg-white dark:bg-zinc-700 shadow p-5">
        <div class="flex items-center gap-x-2 mb-6">
            <h2 class="font-MorabbaMedium text-2xl">دیدگاه ها</h2>
            <p class="text-sm text-blue-500">(@Model.Blog.Comments.Count() دیدگاه)</p>
        </div>
        <div class="flex flex-col lg:flex-row items-start gap-10">
            <div class="lg:w-1/4 flex flex-col w-full">
                <form asp-action="PostComment" asp-controller="Comment" asp-area="" method="post">
                    @if (TempData["ErrorMessage"] != null)
                    {
                        <p class="font-DanaMedium text-lg mb-2">@TempData["ErrorMessage"]</p>
                        TempData.Remove("ErrorMessage");
                    }
                    <p class="font-DanaMedium text-lg mb-2">ثبت دیدگاه</p>
                    <input required type="text" asp-for="@Model.Comment.Title" placeholder="عنوان" class="tailwind-input" />
                    @*<p class="text-gray-500 dark:text-white text-sm mb-4">
                            این محصول را به دیگران پیشنهاد :
                        </p>
                        <div class="grid grid-cols-12 child:col-span-6 gap-4 child:w-full child:flex child:items-center child:justify-center child:gap-x-2 child:rounded-lg child:shadow child:py-2 mb-5 child:font-DanaMedium child:duration-300 child:transition-all">
                            <button class="text-green-600 ring-transparent ring-1 focus:ring-green-600 dark:ring-white/20 dark:focus:ring-green-600">
                                <svg class="w-5 h-5"><use href="#hand-up"></use></svg> میکنم
                            </button>
                            <button class="text-red-500 ring-transparent ring-1 focus:ring-[#EF4343] dark:ring-white/20 dark:focus:ring-[#EF4343]">
                                <svg class="w-5 h-5"><use href="#hand-down"></use></svg> نمیکنم
                            </button>
                        </div>*@
                    <textarea required asp-for="@Model.Comment.TextBody" class="h-24 tailwind-input" placeholder="متن دیدگاه"></textarea>
                    <input type="hidden" asp-for="@Model.Comment.BlogId" value="@Model.Blog.Id" />
                    <button type="submit" class="rounded-lg p-2 bg-green-500 hover:bg-green-600 text-white transition-all">
                        ثبت
                    </button>
                </form>
            </div>
            <ul class="lg:w-3/4 flex flex-col gap-y-2 child:w-full">
                @foreach (var item in Model.Blog.Comments)
                {
                    <li class="child:flex py-4 border-b border-gray-200 child:border-white/20">
                        <div class="flex items-center gap-x-2">
                            <h2 class="font-DanaMedium text-lg mb-1">@item.Title</h2>
                            @*<span class="px-2 py-1 mb-2 rounded-lg bg-green-500 text-white text-xs">خریدار</span>*@
                        </div>
                        <div class="flex-col">
                            @*<h2 class="flex items-center gap-x-1 text-green-500 mb-4">
                                    <svg class="w-4 h-4"><use href="#hand-up"></use></svg> پیشنهاد میشود
                                </h2>*@
                            <p class="text-gray-500 dark:text-gray-200 mb-2 line-clamp-2">@item.TextBody</p>
                        </div>
                        <div class="mt-2 lg:mt-0 flex-col lg:flex-row gap-y-2 lg:items-center justify-between">
                            <div class="flex items-center gap-x-4 text-gray-400 text-sm">
                                <p>@item.CreateDate.Value.ToShamsi()</p>
                                <p>@(item.User.FirstName+" "+item.User.LastName)</p>
                            </div>
                            <div class="flex items-center gap-x-2 flex-wrap mt-2">
                                <p class="text-gray-400 text-sm">
                                    آیا این دیدگاه برایتان مفید بود؟
                                </p>
                                @{
                                    var likes = item.ReactionBlogs?.Count(r => r.LikeOrDisLike == LikeOrDisLike.Like) ?? 0;
                                    var dislikes = item.ReactionBlogs?.Count(r => r.LikeOrDisLike == LikeOrDisLike.DisLike) ?? 0;
                                }

                                <div class="flex items-center gap-x-2 child:flex child:items-center child:gap-x-1 child:rounded-lg child:p-2 child:font-DanaMedium child:duration-300 child:transition-all child:text-sm">
                                    @if (item.ReactionBlogs.FirstOrDefault(r => r.UserId == userId && r.BlogId == Model.Blog.Id && r.CommentId == item.Id) != null)
                                    {
                                        if (item.ReactionBlogs.FirstOrDefault(r => r.UserId == userId && r.BlogId == Model.Blog.Id && r.CommentId == item.Id).LikeOrDisLike == LikeOrDisLike.Like)
                                        {
                                            <a asp-action="RemoveReaction" asp-controller="ReactionBlog" asp-area="" asp-route-reactionId="@item.ReactionBlogs.FirstOrDefault(r => r.UserId == userId && r.BlogId == Model.Blog.Id && r.CommentId == item.Id).Id" class="text-green-600 ring-transparent ring-1 focus:ring-green-600 dark:focus:ring-green-600">
                                                @likes <i class="bi bi-check-square-fill"></i>
                                            </a>
                                            <a asp-action="DisLikeComment" asp-controller="ReactionBlog" asp-area="" asp-route-blogId="@Model.Blog.Id" asp-route-commentId="@item.Id" class="text-red-500 ring-transparent ring-1 focus:ring-[#EF4343] dark:focus:ring-[#EF4343]">
                                                @dislikes <i class="bi bi-x-square"></i>
                                            </a>
                                        }
                                        else
                                        {
                                            <a asp-action="LikeComment" asp-controller="ReactionBlog" asp-area="" asp-route-blogId="@Model.Blog.Id" asp-route-commentId="@item.Id" class="text-green-600 ring-transparent ring-1 focus:ring-green-600 dark:focus:ring-green-600">
                                                @likes <i class="bi bi-check-square"></i>
                                            </a>
                                            <a asp-action="RemoveReaction" asp-controller="ReactionBlog" asp-area="" asp-route-reactionId="@item.ReactionBlogs.FirstOrDefault(r => r.UserId == userId && r.BlogId == Model.Blog.Id && r.CommentId == item.Id).Id" class="text-red-500 ring-transparent ring-1 focus:ring-[#EF4343] dark:focus:ring-[#EF4343]">
                                                @dislikes <i class="bi bi-x-square-fill"></i>
                                            </a>
                                        }
                                    }
                                    else
                                    {
                                        <a asp-action="LikeComment" asp-controller="ReactionBlog" asp-area="" asp-route-blogId="@Model.Blog.Id" asp-route-commentId="@item.Id" class="text-green-600 ring-transparent ring-1 focus:ring-green-600 dark:focus:ring-green-600">
                                            @likes <i class="bi bi-check-square"></i>
                                        </a>
                                        <a asp-action="DisLikeComment" asp-controller="ReactionBlog" asp-area="" asp-route-blogId="@Model.Blog.Id" asp-route-commentId="@item.Id" class="text-red-500 ring-transparent ring-1 focus:ring-[#EF4343] dark:focus:ring-[#EF4343]">
                                            @dislikes <i class="bi bi-x-square"></i>
                                        </a>
                                    }
                                </div>
                            </div>
                        </div>
                    </li>
                }
                @*<li class="child:flex py-4 border-b border-gray-200 child:border-white/20">
                        <div class="flex items-center gap-x-2">
                            <h2 class="font-DanaMedium text-lg mb-1">بسته بندی خوب نبود</h2>
                            <span class="px-2 py-1 mb-2 rounded-lg bg-green-500 text-white text-xs">خریدار</span>
                        </div>
                        <div class="flex-col">
                            <h2 class="flex items-center gap-x-1 text-red-500 mb-4">
                                <svg class="w-4 h-4"><use href="#hand-down"></use></svg> پیشنهاد
                                نمیشود
                            </h2>
                            <p class="text-gray-500 dark:text-gray-200 mb-2">
                                بسته بندی محصول ایراد داشت.
                            </p>
                        </div>
                        <div class="mt-2 lg:mt-0 flex-col lg:flex-row gap-y-2 lg:items-center justify-between">
                            <div class="flex items-center gap-x-4 text-gray-400 text-sm">
                                <p>12 بهمن 1402</p>
                                <p>علی محمدی</p>
                            </div>
                            <div class="flex items-center gap-x-2 flex-wrap mt-2">
                                <p class="text-gray-400 text-sm">
                                    آیا این دیدگاه برایتان مفید بود؟
                                </p>
                                <div class="flex items-center gap-x-2 child:flex child:items-center child:gap-x-1 child:rounded-lg child:p-2 child:font-DanaMedium child:duration-300 child:transition-all child:text-sm">
                                    <button class="text-green-600 ring-transparent ring-1 focus:ring-green-600 dark:focus:ring-green-600">
                                        4 <svg class="w-4 h-4"><use href="#hand-up"></use></svg>
                                    </button>
                                    <button class="text-red-500 ring-transparent ring-1 focus:ring-[#EF4343] dark:focus:ring-[#EF4343]">
                                        15 <svg class="w-4 h-4"><use href="#hand-down"></use></svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="child:flex py-4 border-b border-gray-200 child:border-white/20">
                        <div class="flex items-center gap-x-2">
                            <h2 class="font-DanaMedium text-lg mb-1">برشته و تازه بود</h2>
                            <span class="px-2 py-1 mb-2 rounded-lg bg-green-500 text-white text-xs">خریدار</span>
                        </div>
                        <div class="flex-col">
                            <h2 class="flex items-center gap-x-1 text-green-500 mb-4">
                                <svg class="w-4 h-4"><use href="#hand-up"></use></svg> پیشنهاد میشود
                            </h2>
                            <p class="text-gray-500 dark:text-gray-200 mb-2">کیفیت محصول عالیه</p>
                        </div>
                        <div class="mt-2 lg:mt-0 flex-col lg:flex-row gap-y-2 lg:items-center justify-between">
                            <div class="flex items-center gap-x-4 text-gray-400 text-sm">
                                <p>1 بهمن 1402</p>
                                <p>محمد صفدری</p>
                            </div>
                            <div class="flex items-center gap-x-2 flex-wrap mt-2">
                                <p class="text-gray-400 text-sm">
                                    آیا این دیدگاه برایتان مفید بود؟
                                </p>
                                <div class="flex items-center gap-x-2 child:flex child:items-center child:gap-x-1 child:rounded-lg child:p-2 child:font-DanaMedium child:duration-300 child:transition-all child:text-sm">
                                    <button class="text-green-600 ring-transparent ring-1 focus:ring-green-600 dark:focus:ring-green-600">
                                        7 <svg class="w-4 h-4"><use href="#hand-up"></use></svg>
                                    </button>
                                    <button class="text-red-500 ring-transparent ring-1 focus:ring-[#EF4343] dark:focus:ring-[#EF4343]">
                                        5 <svg class="w-4 h-4"><use href="#hand-down"></use></svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="hidden-comment-item hidden child:flex py-4 border-b border-gray-200 child:border-white/20">
                        <div class="flex items-center gap-x-2">
                            <h2 class="font-DanaMedium text-lg mb-1">عطر و طعم قهوه عالی</h2>
                            <span class="px-2 py-1 mb-2 rounded-lg bg-green-500 text-white text-xs">خریدار</span>
                        </div>
                        <div class="flex-col">
                            <h2 class="flex items-center gap-x-1 text-green-500 mb-4">
                                <svg class="w-4 h-4"><use href="#hand-up"></use></svg> پیشنهاد میشود
                            </h2>
                            <p class="text-gray-500 dark:text-gray-200 mb-2 line-clamp-2">
                                عالی از هر لحاظ به شدت خریدش رو توصیه میکنم کیفیت محصول خوب بود بسته
                                بندی عالی بود
                            </p>
                        </div>
                        <div class="mt-2 lg:mt-0 flex-col lg:flex-row gap-y-2 lg:items-center justify-between">
                            <div class="flex items-center gap-x-4 text-gray-400 text-sm">
                                <p>11 بهمن 1402</p>
                                <p>امیررضا کریمی</p>
                            </div>
                            <div class="flex items-center gap-x-2 flex-wrap mt-2">
                                <p class="text-gray-400 text-sm">
                                    آیا این دیدگاه برایتان مفید بود؟
                                </p>
                                <div class="flex items-center gap-x-2 child:flex child:items-center child:gap-x-1 child:rounded-lg child:p-2 child:font-DanaMedium child:duration-300 child:transition-all child:text-sm">
                                    <button class="text-green-600 ring-transparent ring-1 focus:ring-green-600 dark:focus:ring-green-600">
                                        78 <svg class="w-4 h-4"><use href="#hand-up"></use></svg>
                                    </button>
                                    <button class="text-red-500 ring-transparent ring-1 focus:ring-[#EF4343] dark:focus:ring-[#EF4343]">
                                        25 <svg class="w-4 h-4"><use href="#hand-down"></use></svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="hidden-comment-item hidden child:flex py-4 border-b border-gray-200 child:border-white/20">
                        <div class="flex items-center gap-x-2">
                            <h2 class="font-DanaMedium text-lg mb-1">بسته بندی خوب نبود</h2>
                            <span class="px-2 py-1 mb-2 rounded-lg bg-green-500 text-white text-xs">خریدار</span>
                        </div>
                        <div class="flex-col">
                            <h2 class="flex items-center gap-x-1 text-red-500 mb-4">
                                <svg class="w-4 h-4"><use href="#hand-down"></use></svg> پیشنهاد
                                نمیشود
                            </h2>
                            <p class="text-gray-500 dark:text-gray-200 mb-2">
                                بسته بندی محصول ایراد داشت.
                            </p>
                        </div>
                        <div class="mt-2 lg:mt-0 flex-col lg:flex-row gap-y-2 lg:items-center justify-between">
                            <div class="flex items-center gap-x-4 text-gray-400 text-sm">
                                <p>12 بهمن 1402</p>
                                <p>علی محمدی</p>
                            </div>
                            <div class="flex items-center gap-x-2 flex-wrap mt-2">
                                <p class="text-gray-400 text-sm">
                                    آیا این دیدگاه برایتان مفید بود؟
                                </p>
                                <div class="flex items-center gap-x-2 child:flex child:items-center child:gap-x-1 child:rounded-lg child:p-2 child:font-DanaMedium child:duration-300 child:transition-all child:text-sm">
                                    <button class="text-green-600 ring-transparent ring-1 focus:ring-green-600 dark:focus:ring-green-600">
                                        4 <svg class="w-4 h-4"><use href="#hand-up"></use></svg>
                                    </button>
                                    <button class="text-red-500 ring-transparent ring-1 focus:ring-[#EF4343] dark:focus:ring-[#EF4343]">
                                        15 <svg class="w-4 h-4"><use href="#hand-down"></use></svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="hidden-comment-item hidden child:flex py-4 border-b border-gray-200 child:border-white/20">
                        <div class="flex items-center gap-x-2">
                            <h2 class="font-DanaMedium text-lg mb-1">برشته و تازه بود</h2>
                            <span class="px-2 py-1 mb-2 rounded-lg bg-green-500 text-white text-xs">خریدار</span>
                        </div>
                        <div class="flex-col">
                            <h2 class="flex items-center gap-x-1 text-green-500 mb-4">
                                <svg class="w-4 h-4"><use href="#hand-up"></use></svg> پیشنهاد میشود
                            </h2>
                            <p class="text-gray-500 dark:text-gray-200 mb-2">کیفیت محصول عالیه</p>
                        </div>
                        <div class="mt-2 lg:mt-0 flex-col lg:flex-row gap-y-2 lg:items-center justify-between">
                            <div class="flex items-center gap-x-4 text-gray-400 text-sm">
                                <p>1 بهمن 1402</p>
                                <p>محمد صفدری</p>
                            </div>
                            <div class="flex items-center gap-x-2 flex-wrap mt-2">
                                <p class="text-gray-400 text-sm">
                                    آیا این دیدگاه برایتان مفید بود؟
                                </p>
                                <div class="flex items-center gap-x-2 child:flex child:items-center child:gap-x-1 child:rounded-lg child:p-2 child:font-DanaMedium child:duration-300 child:transition-all child:text-sm">
                                    <button class="text-green-600 ring-transparent ring-1 focus:ring-green-600 dark:focus:ring-green-600">
                                        7 <svg class="w-4 h-4"><use href="#hand-up"></use></svg>
                                    </button>
                                    <button class="text-red-500 ring-transparent ring-1 focus:ring-[#EF4343] dark:focus:ring-[#EF4343]">
                                        5 <svg class="w-4 h-4"><use href="#hand-down"></use></svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </li>*@
                @*<button class="more-comment-btn w-full flex items-center justify-center gap-x-1 my-4 text-green-600 font-DanaMedium">
                        <p class="more-comment-text">مشاهده بیشتر</p>
                        <svg class="w-4 h-4 more-comment-icon">
                            <use href="#chevron-down"></use>
                        </svg>
                    </button>*@
            </ul>
        </div>
    </section>
    <section>
        <div class="flex items-center justify-between mb-12">
            <div class="flex flex-col gap-y-2">
                <h2 class="font-MorabbaMedium text-xl lg:text-3xl">مقالات اخیر</h2>
            </div>
            <div class="flex items-center gap-x-2 child:p-2 child:bg-white child:dark:bg-zinc-700 child:shadow child:rounded-full">
                <button class="prev-slide-best"
                        tabindex="0"
                        aria-label="Previous slide"
                        aria-controls="swiper-wrapper-a5a7f905158c6457">
                    <svg class="w-4 h-4"><use href="#chevron-right"></use></svg>
                </button>
                <button class="next-slide-best"
                        tabindex="0"
                        aria-label="Next slide"
                        aria-controls="swiper-wrapper-a5a7f905158c6457">
                    <svg class="w-4 h-4"><use href="#chevron-left"></use></svg>
                </button>
            </div>
        </div>
        <div class="group"
             dir="rtl">
            <div class="swiper-wrapper rounded-lg mb-2 child:cursor-pointer child:overflow-hidden child:rounded-lg child:bg-white child:dark:bg-zinc-700 child:shadow child:w-64 child:relative"
                 id="swiper-wrapper-a5a7f905158c6457"
                 aria-live="off"
                 style="
          transition-duration: 1000ms;
          transform: translate3d(275.6px, 0px, 0px);
        ">
                @*<div class="swiper-slide group swiper-slide-prev"
                         role="group"
                         aria-label="3 / 6"
                         data-swiper-slide-index="2"
                         style="width: 255.6px; margin-left: 20px">
                        <span class="absolute top-5 right-5 flex items-center justify-center w-8 h-8 text-xs bg-green-500 rounded-full text-white z-30">20%</span><img src="Images/products/p5.png"
                                                                                                                                                                       alt="product-1"
                                                                                                                                                                       class="group-hover:scale-105 duration-300 w-32 h-32 lg:w-48 lg:h-48 mx-auto mb-3" />
                        <div class="px-2 lg:px-4 mb-3">
                            <a href="product-details.html"
                               class="line-clamp-2 font-DanaMedium mb-2 text-sm lg:text-base">قهوه ترک گرمی مقدار 200 گرم رنگ بنفش خط دوم طولانی</a>
                            <div class="flex items-center gap-x-1 lg:gap-x-3">
                                <p class="font-DanaDemiBold text-green-600 dark:text-green-500">
                                    200,000 <span class="font-Dana text-sm">تومان</span>
                                </p>
                                <del class="font-Dana text-xs lg:text-sm text-rose-300 hidden lg:inline">230,000 <span class="">تومان</span></del>
                            </div>
                        </div>
                        <div class="flex items-center justify-between px-2 lg:px-4 mb-3">
                            <div class="flex items-center gap-x-2 child:transition-all child:duration-300">
                                <span class="rounded-full p-2 dark:bg-zinc-800 dark:hover:bg-green-500 bg-gray-100 hover:bg-green-600 hover:text-white">
                                    <svg class="w-4 h-4">
                                        <use href="#shopping-cart"></use>
                                    </svg>
                                </span><span class="hover:text-green-600">
                                    <svg class="w-4 h-4">
                                        <use href="#heart"></use>
                                    </svg>
                                </span>
                            </div>
                            <div class="flex items-center">
                                <svg class="w-4 h-4 text-gray-300"><use href="#star"></use></svg>
                                <svg class="w-4 h-4 text-yellow-400">
                                    <use href="#star"></use>
                                </svg>
                                <svg class="w-4 h-4 text-yellow-400">
                                    <use href="#star"></use>
                                </svg>
                                <svg class="w-4 h-4 text-yellow-400">
                                    <use href="#star"></use>
                                </svg>
                                <svg class="w-4 h-4 text-yellow-400">
                                    <use href="#star"></use>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide group swiper-slide-active"
                         role="group"
                         aria-label="4 / 6"
                         data-swiper-slide-index="3"
                         style="width: 255.6px; margin-left: 20px">
                        <span class="absolute top-5 right-5 flex items-center justify-center w-8 h-8 text-xs bg-green-500 rounded-full text-white z-30">20%</span><img src="Images/products/p4.png"
                                                                                                                                                                       alt="product-1"
                                                                                                                                                                       class="group-hover:scale-105 duration-300 w-32 h-32 lg:w-48 lg:h-48 mx-auto mb-3" />
                        <div class="px-2 lg:px-4 mb-3">
                            <a href="product-details.html"
                               class="line-clamp-2 font-DanaMedium mb-2 text-sm lg:text-base">قهوه ترک بن مانو مقدار 250 گرم خط دوم اسم طولانی خط دوم طولانی</a>
                            <div class="flex items-center gap-x-1 lg:gap-x-3">
                                <p class="font-DanaDemiBold text-green-600 dark:text-green-500">
                                    154,000 <span class="font-Dana text-sm">تومان</span>
                                </p>
                                <del class="font-Dana text-xs lg:text-sm text-rose-300 hidden lg:inline">230,000 <span>تومان</span></del>
                            </div>
                        </div>
                        <div class="flex items-center justify-between px-2 lg:px-4 mb-3">
                            <div class="flex items-center gap-x-2 child:transition-all child:duration-300">
                                <span class="rounded-full p-2 dark:bg-zinc-800 dark:hover:bg-green-500 bg-gray-100 hover:bg-green-600 hover:text-white">
                                    <svg class="w-4 h-4">
                                        <use href="#shopping-cart"></use>
                                    </svg>
                                </span><span class="hover:text-green-600">
                                    <svg class="w-4 h-4">
                                        <use href="#heart"></use>
                                    </svg>
                                </span>
                            </div>
                            <div class="flex items-center">
                                <svg class="w-4 h-4 text-gray-300"><use href="#star"></use></svg>
                                <svg class="w-4 h-4 text-yellow-400">
                                    <use href="#star"></use>
                                </svg>
                                <svg class="w-4 h-4 text-yellow-400">
                                    <use href="#star"></use>
                                </svg>
                                <svg class="w-4 h-4 text-yellow-400">
                                    <use href="#star"></use>
                                </svg>
                                <svg class="w-4 h-4 text-yellow-400">
                                    <use href="#star"></use>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide group swiper-slide-next"
                         role="group"
                         aria-label="5 / 6"
                         data-swiper-slide-index="4"
                         style="width: 255.6px; margin-left: 20px">
                        <img src="Images/products/p3.png"
                             alt="product-1"
                             class="group-hover:scale-105 duration-300 w-32 h-32 lg:w-48 lg:h-48 mx-auto mb-3" />
                        <div class="px-2 lg:px-4 mb-3">
                            <a href="product-details.html"
                               class="line-clamp-2 font-DanaMedium mb-2 text-sm lg:text-base">دانه قهوه اسپرسو کد 200 مقدار 100 گرم خط دوم طولانی</a>
                            <div class="flex items-center gap-x-1 lg:gap-x-3">
                                <p class="font-DanaDemiBold text-green-600 dark:text-green-500">
                                    80,000 <span class="font-Dana text-sm">تومان</span>
                                </p>
                            </div>
                        </div>
                        <div class="flex items-center justify-between px-2 lg:px-4 mb-3">
                            <div class="flex items-center gap-x-2 child:transition-all child:duration-300">
                                <span class="rounded-full p-2 dark:bg-zinc-800 dark:hover:bg-green-500 bg-gray-100 hover:bg-green-600 hover:text-white">
                                    <svg class="w-4 h-4">
                                        <use href="#shopping-cart"></use>
                                    </svg>
                                </span><span class="hover:text-green-600">
                                    <svg class="w-4 h-4">
                                        <use href="#heart"></use>
                                    </svg>
                                </span>
                            </div>
                            <div class="flex items-center">
                                <svg class="w-4 h-4 text-gray-300"><use href="#star"></use></svg>
                                <svg class="w-4 h-4 text-yellow-400">
                                    <use href="#star"></use>
                                </svg>
                                <svg class="w-4 h-4 text-yellow-400">
                                    <use href="#star"></use>
                                </svg>
                                <svg class="w-4 h-4 text-yellow-400">
                                    <use href="#star"></use>
                                </svg>
                                <svg class="w-4 h-4 text-yellow-400">
                                    <use href="#star"></use>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide group"
                         role="group"
                         aria-label="6 / 6"
                         data-swiper-slide-index="5"
                         style="width: 255.6px; margin-left: 20px">
                        <img src="Images/products/p2.png"
                             alt="product-1"
                             class="group-hover:scale-105 duration-300 w-32 h-32 lg:w-48 lg:h-48 mx-auto mb-3" />
                        <div class="px-2 lg:px-4 mb-3">
                            <a href="product-details.html"
                               class="line-clamp-2 font-DanaMedium mb-2 text-sm lg:text-base">قهوه ترک بن مانو مقدار 250 گرم خط دوم اسم طولانی خط دوم طولانی</a>
                            <div class="flex items-center gap-x-1 lg:gap-x-3">
                                <p class="font-Dana text-red-400">فعلا موجود نیست</p>
                            </div>
                        </div>
                        <div class="flex items-center justify-between px-2 lg:px-4 mb-3">
                            <div class="flex items-center gap-x-2 child:transition-all child:duration-300">
                                <span class="rounded-full p-2 dark:bg-zinc-800 dark:hover:bg-green-500 bg-gray-100 hover:bg-green-600 hover:text-white">
                                    <svg class="w-4 h-4">
                                        <use href="#shopping-cart"></use>
                                    </svg>
                                </span><span class="hover:text-green-600">
                                    <svg class="w-4 h-4">
                                        <use href="#heart"></use>
                                    </svg>
                                </span>
                            </div>
                            <div class="flex items-center">
                                <svg class="w-4 h-4 text-gray-300"><use href="#star"></use></svg>
                                <svg class="w-4 h-4 text-yellow-400">
                                    <use href="#star"></use>
                                </svg>
                                <svg class="w-4 h-4 text-yellow-400">
                                    <use href="#star"></use>
                                </svg>
                                <svg class="w-4 h-4 text-yellow-400">
                                    <use href="#star"></use>
                                </svg>
                                <svg class="w-4 h-4 text-yellow-400">
                                    <use href="#star"></use>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide group"
                         role="group"
                         aria-label="1 / 6"
                         data-swiper-slide-index="0"
                         style="width: 255.6px; margin-left: 20px">
                        <span class="absolute top-5 right-5 flex items-center justify-center w-8 h-8 text-xs bg-green-500 rounded-full text-white z-30">20%</span><img src="Images/products/p7.png"
                                                                                                                                                                       alt="product-1"
                                                                                                                                                                       class="group-hover:scale-105 duration-300 w-32 h-32 lg:w-48 lg:h-48 mx-auto mb-3" />
                        <div class="px-2 lg:px-4 mb-3">
                            <a href="product-details.html"
                               class="line-clamp-2 font-DanaMedium mb-2 text-sm lg:text-base">قهوه ترک گرمی مقدار 200 گرم رنگ بنفش خط دوم طولانی</a>
                            <div class="flex items-center gap-x-1 lg:gap-x-3">
                                <p class="font-DanaDemiBold text-green-600 dark:text-green-500">
                                    200,000 <span class="font-Dana text-sm">تومان</span>
                                </p>
                                <del class="font-Dana text-xs lg:text-sm text-rose-300 hidden lg:inline">230,000 <span class="">تومان</span></del>
                            </div>
                        </div>
                        <div class="flex items-center justify-between px-2 lg:px-4 mb-3">
                            <div class="flex items-center gap-x-2 child:transition-all child:duration-300">
                                <span class="rounded-full p-2 dark:bg-zinc-800 dark:hover:bg-green-500 bg-gray-100 hover:bg-green-600 hover:text-white">
                                    <svg class="w-4 h-4">
                                        <use href="#shopping-cart"></use>
                                    </svg>
                                </span><span class="hover:text-green-600">
                                    <svg class="w-4 h-4">
                                        <use href="#heart"></use>
                                    </svg>
                                </span>
                            </div>
                            <div class="flex items-center">
                                <svg class="w-4 h-4 text-gray-300"><use href="#star"></use></svg>
                                <svg class="w-4 h-4 text-yellow-400">
                                    <use href="#star"></use>
                                </svg>
                                <svg class="w-4 h-4 text-yellow-400">
                                    <use href="#star"></use>
                                </svg>
                                <svg class="w-4 h-4 text-yellow-400">
                                    <use href="#star"></use>
                                </svg>
                                <svg class="w-4 h-4 text-yellow-400">
                                    <use href="#star"></use>
                                </svg>
                            </div>
                        </div>
                    </div>*@
                @foreach (var item in Model.RecentBlogs!)
                {
                    <div class="group"
                         role="group"
                         aria-label="2 / 6"
                         data-swiper-slide-index="1"
                         style="width: 255.6px; margin-left: 20px">
                        <a asp-action="Details" asp-controller="Blog" asp-area="" asp-route-id="@item.Id">

                            <img src="~/Images/BlogImages/@item.Photo"
                                 alt="@item.Title"
                                 class="group-hover:scale-105 duration-300 w-32 h-32 lg:w-48 lg:h-48 mx-auto mb-3" />
                            <div class="px-2 lg:px-4 mb-3">
                                <a asp-action="Details" asp-controller="Blog" asp-area="" asp-route-id="@item.Id" class="line-clamp-2 font-DanaMedium mb-2 text-sm lg:text-base">@item.Title</a>
                                <div class="flex items-center gap-x-1 lg:gap-x-3">
                                    <p class="font-Dana text-red-400">@item.CreateDate.Value.ToShamsi()</p>
                                </div>
                            </div>
                            @*<div class="flex items-center justify-between px-2 lg:px-4 mb-3">
                                    <div class="flex items-center gap-x-2 child:transition-all child:duration-300">
                                        <span class="rounded-full p-2 dark:bg-zinc-800 dark:hover:bg-green-500 bg-gray-100 hover:bg-green-600 hover:text-white">
                                            <svg class="w-4 h-4">
                                                <use href="#shopping-cart"></use>
                                            </svg>
                                        </span><span class="hover:text-green-600">
                                            <svg class="w-4 h-4">
                                                <use href="#heart"></use>
                                            </svg>
                                        </span>
                                    </div>
                                    <div class="flex items-center">
                                            <svg class="w-4 h-4 text-gray-300"><use href="#star"></use></svg>
                                            <svg class="w-4 h-4 text-yellow-400">
                                                <use href="#star"></use>
                                            </svg>
                                            <svg class="w-4 h-4 text-yellow-400">
                                                <use href="#star"></use>
                                            </svg>
                                            <svg class="w-4 h-4 text-yellow-400">
                                                <use href="#star"></use>
                                            </svg>
                                            <svg class="w-4 h-4 text-yellow-400">
                                                <use href="#star"></use>
                                            </svg>
                                        </div>
                                </div>*@
                        </a>
                    </div>
                }
            </div>
            <span class="swiper-notification"
                  aria-live="assertive"
                  aria-atomic="true"></span>
        </div>
    </section>
</main>